(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{41304:function(e,t,r){Promise.resolve().then(r.t.bind(r,58877,23)),Promise.resolve().then(r.bind(r,86517)),Promise.resolve().then(r.bind(r,70552)),Promise.resolve().then(r.bind(r,17973)),Promise.resolve().then(r.t.bind(r,73247,23))},86517:function(e,t,r){"use strict";r.d(t,{ExpenseProvider:function(){return d},t:function(){return l}});var s=r(57437),n=r(2265);let a="pros-expenses-v1",i=(0,n.createContext)(null);function o(e,t){switch(t.type){case"INIT":return{...e,loaded:!0,expenses:t.expenses};case"ADD":return{...e,expenses:[t.expense,...e.expenses]};case"EDIT":return{...e,expenses:e.expenses.map(e=>e.id===t.id?{...e,...t.patch,updatedAt:Date.now()}:e)};case"DELETE":return{...e,expenses:e.expenses.filter(e=>e.id!==t.id)};case"FILTER":return{...e,filters:{...e.filters,...t.filters}};default:return e}}function d(e){let{children:t}=e,[r,d]=(0,n.useReducer)(o,{expenses:[],filters:{category:"All"},loaded:!1});(0,n.useEffect)(()=>{d({type:"INIT",expenses:function(){try{let e=localStorage.getItem(a);if(!e)return[];let t=JSON.parse(e);if(!Array.isArray(t))return[];return t.map(e=>({...e,amountCents:Number(e.amountCents)||0,createdAt:Number(e.createdAt)||Date.now(),updatedAt:Number(e.updatedAt)||Date.now()}))}catch(e){return[]}}()})},[]),(0,n.useEffect)(()=>{r.loaded&&function(e){try{localStorage.setItem(a,JSON.stringify(e))}catch(e){}}(r.expenses)},[r.expenses,r.loaded]);let l=(0,n.useMemo)(()=>(function(e,t){let r=e.slice();if(t.startDate&&(r=r.filter(e=>e.date>=t.startDate)),t.endDate&&(r=r.filter(e=>e.date<=t.endDate)),t.category&&"All"!==t.category&&(r=r.filter(e=>e.category===t.category)),t.search&&t.search.trim()){let e=t.search.toLowerCase();r=r.filter(t=>t.description.toLowerCase().includes(e))}return r.sort((e,t)=>e.date<t.date?1:e.date>t.date?-1:t.createdAt-e.createdAt),r})(r.expenses,r.filters),[r.expenses,r.filters]),c=e=>{let t="undefined"!=typeof crypto&&"randomUUID"in crypto?crypto.randomUUID():String(Math.random()).slice(2),r=Date.now();d({type:"ADD",expense:{id:t,createdAt:r,updatedAt:r,...e}})},u=(e,t)=>d({type:"EDIT",id:e,patch:t}),f=e=>d({type:"DELETE",id:e}),p=e=>d({type:"FILTER",filters:e}),x=(0,n.useMemo)(()=>({state:r,filtered:l,add:c,edit:u,remove:f,setFilters:p}),[r,l]);return(0,s.jsx)(i.Provider,{value:x,children:t})}function l(){let e=(0,n.useContext)(i);if(!e)throw Error("useExpenses must be used within ExpenseProvider");return e}},70552:function(e,t,r){"use strict";r.d(t,{default:function(){return o}});var s=r(57437),n=r(87138),a=r(16463),i=r(2265);function o(){let e=(0,a.usePathname)(),t=(0,i.useMemo)(()=>[{href:"/",label:"Dashboard"}],[]);return(0,s.jsx)("header",{className:"border-b border-slate-800/80 bg-slate-950/60 backdrop-blur supports-[backdrop-filter]:bg-slate-950/40",children:(0,s.jsxs)("div",{className:"container flex items-center gap-6 py-4",children:[(0,s.jsxs)(n.default,{href:"/",className:"text-lg font-semibold tracking-tight",children:[(0,s.jsx)("span",{className:"text-brand",children:"Pro"}),"Spend"]}),(0,s.jsxs)("nav",{className:"flex items-center gap-1",children:[t.map(t=>(0,s.jsx)(n.default,{href:t.href,className:"px-3 py-1.5 rounded-lg text-sm transition ".concat(e===t.href?"bg-brand/20 text-brand border border-blue-700/50":"text-slate-300 hover:text-white hover:bg-slate-800/60"),children:t.label},t.href)),(0,s.jsx)("a",{href:"#add",className:"px-3 py-1.5 rounded-lg text-sm text-slate-300 hover:text-white hover:bg-slate-800/60",children:"Add Expense"}),(0,s.jsx)("a",{href:"#list",className:"px-3 py-1.5 rounded-lg text-sm text-slate-300 hover:text-white hover:bg-slate-800/60",children:"Expenses"})]})]})})}},17973:function(e,t,r){"use strict";r.d(t,{default:function(){return o},p:function(){return i}});var s=r(57437),n=r(2265);let a=(0,n.createContext)(null);function i(){let e=(0,n.useContext)(a);if(!e)throw Error("Toast used outside provider");return e}function o(e){let{children:t}=e,[r,i]=(0,n.useState)([]),o=(0,n.useRef)(0),d=(0,n.useCallback)(e=>{let t={id:String(o.current++),message:e};i(e=>[...e,t]),setTimeout(()=>i(e=>e.filter(e=>e.id!==t.id)),2500)},[]);return(0,s.jsxs)(a.Provider,{value:{notify:d},children:[t,(0,s.jsx)("div",{className:"fixed bottom-4 right-4 space-y-2 z-50",children:r.map(e=>(0,s.jsx)("div",{className:"card bg-slate-900/90 border border-slate-700 shadow-soft",children:(0,s.jsx)("div",{className:"text-sm",children:e.message})},e.id))})]})}},58877:function(){}},function(e){e.O(0,[569,358,971,23,744],function(){return e(e.s=41304)}),_N_E=e.O()}]);